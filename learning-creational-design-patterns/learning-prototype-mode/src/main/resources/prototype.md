**原型设计模式**

1.概念

    如果对象的创建成本比较大，而同一个类的不同对象之间差别不大(大部分字段相同)，在这种情况下，可以利用已有对象(原型)进行复制(或者叫拷贝)的方式来创建新对象，以达到节省创建时间的目的。这种基于原型来创建对象的方式就叫作原型设计模式，简称原型模式。
    
2.深克隆与浅克隆

    浅克隆又称浅拷贝，针对于基本类型数据，浅拷贝会将其重新拷贝到自己的空间(基本类型存储在栈中)，但是对于非基本类型，比如对象，数组等，浅拷贝只会将其索引拷贝到自己的空间(栈中)，但是还是会和原对象共享数据，即修改拷贝对象会影响原对象，修改原对象也会影响拷贝对象
    
    深克隆又称深拷贝，和浅克隆的区别在于，针对于非基本类型数据，深克隆得到的是一份完完全全的独立对象，即修改拷贝对象不会影响原对象，修改原对象也不会影响拷贝对象。
    
    Object类的clone()方法执行的就是浅拷贝，它只会拷贝对象中的基本数据类型的数据(比如：int、long)，以及引用对象(SearchWord)的内存地址，不会递归的拷贝引用对象本身。
    
    实现深拷贝的两种方式：
      1.递归拷贝对象、对象的引用对象以及引用对象的引用对象...直到要拷贝的对象只包含基本数据类型数据，没有引用对象为止。
      2.先将对象序列化，然后再反序列化成新对象。
      
3.原型模式实现方式
    
    原型模式有两种实现方式：深拷贝和浅拷贝。
      1.浅拷贝只会复制对象中基本数据类型数据和引用对象的内存地址，不会递归的复制引用对象，以及引用对象的引用对象...
      2.深拷贝得到的是一份完完全全独立的对象。
    故深拷贝比起浅拷贝会更加的耗时，更加耗内存空间。
    
    如果要拷贝的对象是不可变对象，浅拷贝共享不可变对象是没问题的，但对于可变对象来说，浅拷贝得到的对象和原始对象会共享部分数据，就有可能出现数据被修改的风险，也就变得复杂多了。
    例子：需从数据库中加载10万条数据并构建散列表索引，操作非常耗时，比较推荐使用浅拷贝，否则没有充分的理由，不能因为一点点性能提升而使用浅拷贝。
    
