**工厂模式**

1.工厂模式使用场景
    
    第一种情况：类似于配置规则解析的例子，代码中存在较多的if-else分支判断，动态地根据不同的类型创建不同的对象。此种情况：考虑使用工厂模式，将存在较多地if-else创建对象的代码抽离出来，放到工厂类中。
    第二种情况：尽管不需要根据不同的类型创建不同的对象；但是，单个对象本身的创建过程比较复杂，比如组合其他类对象，做各种初始化操作。此种情况：考虑使用工厂模式，将对象的创建过程封装到工厂类中。
    
2.工厂模式选择

    针对场景的第一种情况：
      1.当每个对象的创建逻辑比较简单，推荐使用简单工厂模式，将多个对象的创建逻辑放到一个工厂类中。
      2.当每个对象的创建逻辑比较复杂时，为避免设计一个过于庞大的简单工厂类，推荐使用工厂方法模式，将创建逻辑拆分的更细，对象的创建独立到各自的工厂类中。
    
    针对场景的第二种情况：
      1.因对象本身的创建逻辑就比较复杂，推荐使用工厂模式。
    
3.使用工厂模式参考标准

    1.封装变化：创建逻辑有可能变化，封装成工厂类之后，创建逻辑的变更对调用者透明；
    2.代码服用：创建代码抽离到独立的工厂类之后可以服用；
    3.隔离复杂性：封装复杂的创建逻辑，调用者无需了解如何创建对象；
    4.控制复杂度：将创建代码隔离出来，让原本的函数或类职责更单一，代码更简洁。
    
4.工厂模式在DI中的应用

    DI容器在一些软件开发中已经成为了标配，比如：Spring IOC、Google Guice。
    DI容器的实现原理：核心逻辑主要包括：配置文件解析，以及根据配置文件通过"反射"语法来创建对象。其中，创建对象的过程就应用到了工厂模式。对象创建、组装、管理完全由DI容器来负责，根具体业务代码解耦，让程序员聚焦在业务代码的开发上。